"use strict";(self.webpackChunktea=self.webpackChunktea||[]).push([[894],{4894:(I,l,i)=>{i.r(l),i.d(l,{ProductsModule:()=>y});var a=i(6895),c=i(646),p=i(2340),t=i(8256),m=i(529),f=i(3763);function h(u,n){1&u&&(t.TgZ(0,"div",6)(1,"p"),t._uU(2,"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"),t.qZA()())}function v(u,n){1&u&&(t.TgZ(0,"div",7)(1,"div",8)(2,"span",9),t._uU(3,"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."),t.qZA()()())}function _(u,n){1&u&&(t.TgZ(0,"div",10),t._uU(1," \u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0442\u043e\u0432\u0430\u0440\u043e\u0432. "),t.qZA())}function x(u,n){if(1&u){const e=t.EpF();t.TgZ(0,"div",13)(1,"div",14),t._UZ(2,"img",15),t.TgZ(3,"div",16)(4,"h5",17),t._uU(5),t.qZA(),t.TgZ(6,"p",18),t._uU(7),t.qZA(),t.TgZ(8,"p",19),t._uU(9),t.qZA(),t.TgZ(10,"button",20),t.NdJ("click",function(){const d=t.CHM(e).$implicit,s=t.oxw(2);return t.KtG(s.goToProduct(d.id))}),t._uU(11," \u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435 "),t.qZA()()()()}if(2&u){const e=n.$implicit;t.xp6(2),t.s9C("alt",e.title),t.Q6J("src",e.image,t.LSH),t.xp6(3),t.Oqu(e.title),t.xp6(2),t.Oqu(e.description),t.xp6(2),t.hij("",e.price," \u20bd")}}function C(u,n){if(1&u&&(t.TgZ(0,"div",11),t.YNc(1,x,12,5,"div",12),t.qZA()),2&u){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.products)}}function b(u,n){if(1&u){const e=t.EpF();t.TgZ(0,"div",3)(1,"div",4)(2,"div",5),t._UZ(3,"img",6),t.qZA(),t.TgZ(4,"div",5)(5,"h2",7),t._uU(6),t.qZA(),t.TgZ(7,"p",8),t._uU(8),t.qZA(),t.TgZ(9,"p",9),t._uU(10),t.qZA(),t.TgZ(11,"button",10),t.NdJ("click",function(){t.CHM(e);const r=t.oxw();return t.KtG(r.buy())}),t._uU(12,"\u041a\u0443\u043f\u0438\u0442\u044c"),t.qZA()()()()}if(2&u){const e=t.oxw();t.xp6(3),t.Q6J("src",e.product.image,t.LSH)("alt",e.product.title),t.xp6(3),t.Oqu(e.product.title),t.xp6(2),t.Oqu(e.product.description),t.xp6(2),t.hij("",e.product.price," \u20bd")}}function T(u,n){1&u&&(t.TgZ(0,"div",11),t._UZ(1,"div",12),t.qZA())}function A(u,n){1&u&&(t.TgZ(0,"div",13),t._uU(1," \u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0442\u043e\u0432\u0430\u0440\u0430.\n"),t.qZA())}const w=[{path:"",component:(()=>{class u{constructor(e,o,r){this.http=e,this.router=o,this.searchService=r,this.products=[],this.loading=!0,this.error=!1,this.search=""}ngOnInit(){this.searchService.search$.subscribe(e=>{this.search=e,this.loadProducts(e)})}loadProducts(e){this.loading=!0,this.error=!1,this.http.get(p.N.apiURL+"tea").subscribe({next:o=>{if(e){const r=e.trim().toLowerCase(),d=new RegExp(r,"i");this.products=o.filter(s=>s.title.toLowerCase().includes(r)||d.test(s.description.toLowerCase()))}else this.products=o;this.loading=!1},error:()=>{this.loading=!1,this.error=!0}})}goToProduct(e){this.router.navigate(["/products",e])}}return u.\u0275fac=function(e){return new(e||u)(t.Y36(m.eN),t.Y36(c.F0),t.Y36(f.o))},u.\u0275cmp=t.Xpm({type:u,selectors:[["app-catalog"]],decls:7,vars:5,consts:[[1,"container","mt-4"],[1,"fw-bold","text-center","mb-4","wow","animate__animated","animate__rotateInUpLeft"],["class","text-center",4,"ngIf"],["class","text-center loader-bg",4,"ngIf"],["class","alert alert-danger text-center",4,"ngIf"],["class","row justify-content-md-center flex-md-wrap parent-container",4,"ngIf"],[1,"text-center"],[1,"text-center","loader-bg"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"alert","alert-danger","text-center"],[1,"row","justify-content-md-center","flex-md-wrap","parent-container"],["class","col-lg-4 col-md-6 col-sm-6 mb-4 wow animate__animated animate__lightSpeedInLeft",4,"ngFor","ngForOf"],[1,"col-lg-4","col-md-6","col-sm-6","mb-4","wow","animate__animated","animate__lightSpeedInLeft"],[1,"card","h-100","border","bg-light","border-2","rounded-1"],[1,"card-img-top",3,"src","alt"],[1,"card-body","d-flex","flex-column"],[1,"card-title","fw-bold","text-center"],[1,"card-text","text-truncate"],[1,"mt-auto","fw-bold","text-bg-light"],[1,"btn","btn-outline-primary","w-100","mt-2","wow","animate__animated","animate__heartBeat",3,"click"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"h2",1),t._uU(2),t.qZA(),t.YNc(3,h,3,0,"div",2),t.YNc(4,v,4,0,"div",3),t.YNc(5,_,2,0,"div",4),t.YNc(6,C,2,1,"div",5),t.qZA()),2&e&&(t.xp6(2),t.hij(" ",o.search?"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u043f\u043e\u0438\u0441\u043a\u0430 \u043f\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0443: "+o.search:"\u041d\u0430\u0448\u0438 \u0447\u0430\u0439\u043d\u044b\u0435 \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438"," "),t.xp6(1),t.Q6J("ngIf",!o.loading&&!o.error&&0===o.products.length),t.xp6(1),t.Q6J("ngIf",o.loading),t.xp6(1),t.Q6J("ngIf",o.error),t.xp6(1),t.Q6J("ngIf",!o.loading&&!o.error))},dependencies:[a.sg,a.O5],styles:[".loader-bg[_ngcontent-%COMP%]{width:100%;height:100%;position:fixed;top:0;left:0;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,.48)}"]}),u})()},{path:":id",component:(()=>{class u{constructor(e,o,r){this.route=e,this.http=o,this.router=r,this.product=null,this.loading=!0,this.error=!1}ngOnInit(){const e=this.route.snapshot.paramMap.get("id");this.http.get(p.N.apiURL+"tea").subscribe({next:o=>{this.product=o.find(r=>r.id===Number(e))||null,this.loading=!1},error:()=>{this.loading=!1,this.error=!0}})}buy(){this.product&&this.router.navigate(["/order"],{state:{product:this.product.title}})}}return u.\u0275fac=function(e){return new(e||u)(t.Y36(c.gz),t.Y36(m.eN),t.Y36(c.F0))},u.\u0275cmp=t.Xpm({type:u,selectors:[["app-product"]],decls:3,vars:3,consts:[["class","container mt-4",4,"ngIf"],["class","text-center mt-5",4,"ngIf"],["class","alert alert-danger text-center mt-5",4,"ngIf"],[1,"container","mt-4"],[1,"row"],[1,"col-md-6"],[1,"img-fluid","rounded",3,"src","alt"],[1,"mb-3"],[1,"text-muted"],[1,"fw-bold","fs-4"],[1,"btn","btn-primary","mt-3",3,"click"],[1,"text-center","mt-5"],["role","status",1,"spinner-border","text-primary"],[1,"alert","alert-danger","text-center","mt-5"]],template:function(e,o){1&e&&(t.YNc(0,b,13,5,"div",0),t.YNc(1,T,2,0,"div",1),t.YNc(2,A,2,0,"div",2)),2&e&&(t.Q6J("ngIf",!o.loading&&o.product),t.xp6(1),t.Q6J("ngIf",o.loading),t.xp6(1),t.Q6J("ngIf",o.error))},dependencies:[a.O5],encapsulation:2}),u})()}];let g=(()=>{class u{}return u.\u0275fac=function(e){return new(e||u)},u.\u0275mod=t.oAB({type:u}),u.\u0275inj=t.cJS({imports:[c.Bz.forChild(w),c.Bz]}),u})();var P=i(4466);let y=(()=>{class u{}return u.\u0275fac=function(e){return new(e||u)},u.\u0275mod=t.oAB({type:u}),u.\u0275inj=t.cJS({imports:[a.ez,c.Bz,P.m,g,g]}),u})()}}]);